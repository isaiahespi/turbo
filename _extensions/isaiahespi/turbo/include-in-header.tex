% -----------------------
% CUSTOM PREAMBLE STUFF
% -----------------------

\newif\if@normalnumbers\@normalnumbersfalse
\DeclareOption{normalnumbers}{\@normalnumberstrue}

%----------------------------------------------------------------------------------------
%	PAGE LAYOUT
%----------------------------------------------------------------------------------------


\usepackage[hang,small,labelfont=bf,up,textfont=it,up]{caption} % Custom captions under/above floats in tables or figures
\usepackage{booktabs} % Better looking tables

\usepackage{lettrine} % The lettrine is the first enlarged letter at the beginning of the text

\usepackage{enumitem} % Customized lists
\setlist[itemize]{noitemsep} % Make itemize lists more compact

\linespread{1.05} % Line spacing - Palatino needs more space between lines
\usepackage{microtype} % Slightly tweak font spacing for aesthetics

%----------------------------------------------------------------------------------------
%	TITLE, ABSTRACT AND PAGE HEADERS/FOOTERS
%----------------------------------------------------------------------------------------


\usepackage{titling} % Customizing the title section

\setlength{\droptitle}{-4\baselineskip} % Move the title up

\pretitle{\begin{center}\LARGE\bfseries} % Article title formatting
\posttitle{\end{center}\vskip 1em} % Article title closing formatting
\preauthor{\begin{center}
           \large \lineskip 0.5em%
           \begin{tabular}[t]{c}}
\postauthor{\end{tabular}\par\end{center}\vskip 0.75em}
\predate{\begin{center}\large}
\postdate{\par\end{center}\vskip 1em}

\RequirePackage{abstract} % Allows abstract customization
\renewcommand{\abstractnamefont}{\normalfont\bfseries} % Set the "Abstract" text to bold
\renewcommand{\abstracttextfont}{\normalfont\small\itshape} % Set the abstract itself to small italic text
\setlength{\abstitleskip}{0.5em}

\RequirePackage{fancyhdr} % Headers and footers
\pagestyle{fancy} % All pages have headers and footers
\fancyhead{} % Blank out the default header
\fancyfoot{} % Blank out the default footer
\fancyfoot[RO,LE]{\thepage} % Custom footer text


%----------------------------------------------------------------------------------------
%	SECTION HEADINGS
%----------------------------------------------------------------------------------------

\usepackage{titlesec} % Allows customization of titles
\if@normalnumbers
   \renewcommand\thesection{\arabic{section}} % Arabic numerals for the sections
   \renewcommand\thesubsection{\arabic{section}.\arabic{subsection}} % Arabic numerals for subsections
\else
   \renewcommand\thesection{\Roman{section}} % Roman numerals for the sections
   \renewcommand\thesubsection{\roman{subsection}} % Roman numerals for subsections
\fi

\renewcommand\appendix{\par
  \setcounter{section}{0}%
  \setcounter{subsection}{0}%
  \if@normalnumbers
     \renewcommand\thesection{\Alph{section}} % Arabic numerals for the sections
     \renewcommand\thesubsection{\Alph{section}.\arabic{subsection}} % Arabic numerals for subsections
  \else
     \renewcommand\thesection{\Alph{section}} % Roman numerals for the sections
     \renewcommand\thesubsection{\roman{subsection}} % Roman numerals for subsections
  \fi
  }

\titleformat{\section}[block]{\large\scshape\centering}{\thesection.}{1em}{} % Change the look of the section titles
\titleformat{\subsection}[block]{\large}{\thesubsection.}{1em}{} % Change the look of the section titles

%----------------------------------------------------------------------------------------
%	HYPERREF SETUP
%----------------------------------------------------------------------------------------

\usepackage[usenames,dvipsnames]{xcolor}

\usepackage{hyperref} % For hyperlinks in the PDF
\hypersetup{hidelinks,
            colorlinks,
            breaklinks=true,
            linkcolor=DarkSlateBlue,
            filecolor=DarkSlateBlue,
            citecolor=DarkSlateBlue,
            urlcolor=DarkSlateBlue,
            bookmarksopen=false}

%----------------------------------------------------------------------------------------